# Cluster Stack Build Configuration
# Copy this file to task.env and customize for your environment
#
# Usage: cp task.env.example task.env

# ============================================
# Provider/Stack Selection
# ============================================
# Override these per-task: task build-assets PROVIDER=docker CLUSTER_STACK=scs

PROVIDER=openstack
# Preferred: use CLUSTER_STACK (new naming)
CLUSTER_STACK=scs2
# Legacy: STACK is still supported for backwards compatibility
#STACK=scs2

# ============================================
# OCI Registry Configuration (for publishing cluster stacks)
# ============================================

# DEFAULT: ttl.sh for easy testing (no authentication required)
# - Repository auto-generated as: cs-{git-hash}-{timestamp}
# - Example: ttl.sh/cs-a97eb175-1737228142
# - Artifacts expire after 24 hours (automatic cleanup)
# - Perfect for: PR testing, local development, quick CI runs
# - To extend: Run 'task refresh-ttl' to re-push (resets 24h timer)
OCI_REGISTRY=ttl.sh
OCI_REPOSITORY=  # Leave empty for auto-generation

# ============================================
# For Production: SCS Registry
# ============================================
# Official SCS cluster stacks registry (read-only for most users)
# Uncomment to publish to production:
#OCI_REGISTRY=registry.scs.community
#OCI_REPOSITORY=kaas/cluster-stacks
#
# Authentication (if you have write access):
#   podman login registry.scs.community

# ============================================
# OCI Authentication
# ============================================
# Only needed for non-ttl.sh registries with write access
# Most users won't need this (ttl.sh = no auth, SCS registry = read-only)
#
# If you need to authenticate:
#   podman login <registry>
#
# Or set credentials:
#   OCI_USERNAME=your-username
#   OCI_PASSWORD=your-token

# ============================================
# Build Options
# ============================================

# Output directory for releases (default: .release)
OUTPUT_DIR=.release

# ============================================
# Optional: Node Image Registry
# ============================================
# For future provider plugin integration

#NODE_IMAGE_REGISTRY=ghcr.io/sovereigncloudstack/node-images
